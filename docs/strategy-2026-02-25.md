# Cleo Mini V3 — Strategy Session: Feb 25, 2026

## Context

This document captures a full strategy session between Brandon and Claude, covering the current state of the app, Brandon's real-world prospecting workflow, what's working, what's broken, and a phased plan forward starting with address normalization as the foundation.

---

## Brandon's Prospecting Workflow (The Real-World Loop)

Brandon prospects commercial real estate owners — specifically owners of retail properties and plazas in Ontario. The goal is to identify properties, find the owner, assess their portfolio, find contact info, and make outreach to ask if they'd sell.

### Current Tools (All Disconnected)
- **Excel spreadsheet** — records prospecting findings
- **Google Earth project** — pins on properties with notes, brand searching, outreach status
- **GeoWarehouse** — authoritative source for parcel data: who owns it, how much they paid, site size, corp mailing address, PIN, ARN
- **Realtrack** — transaction data: contact names, phone numbers, sale history (1996-present)
- **Google Search** — finding people by name + city
- **LinkedIn + Datanyze extension** — email/phone lookup (~40-50% hit rate on LinkedIn profiles)
- **Canada411** — home phone lookup by address
- **Facebook** — last-resort cold outreach
- **HubSpot** — email tracking via Outlook integration
- **Productive.ai** — call recording/summarization, auto-sends notes to HubSpot

### The Prospecting Loop (8 Steps)

**Step 1: Pick a target (city or brand → find a property)**
- Choose a city/market OR a brand category
- Zoom into the area, look for neighbourhood plazas, retail nodes
- Find a plaza that hasn't been worked yet

**Step 2: Research the parcel (GeoWarehouse)**
- Look up the parcel in GeoWarehouse
- A parcel may contain one building with one tenant, or multiple buildings with many tenants
- Grab everything: owner name, purchase price, site size, corp mailing address, PIN, ARN
- Understanding the PARCEL is critical — a Starbucks pin means nothing without knowing if it's a standalone pad or the corner of a 100,000 SF retail centre. The parcel is what transfers and is what's owned.

**Step 3: Find the transaction (Realtrack)**
- If the GeoWarehouse sale date is 1996 or newer, search the address in Realtrack
- Learn as much as possible from the RT data
- Key target: contact name and phone number for the buyer

**Step 4: Size up the owner's portfolio (Realtrack)**
- Search the contact NAME across ALL asset classes (not just retail — industrial, residential, everything)
- Search the CORP NAME across all asset classes
- Want the full picture of how many properties they own
- Portfolio size determines the outreach approach

**Step 5: Find contact info (multi-channel dig)**
- Try the RT phone number first (often outdated, especially older records)
- Google search: "firstname lastname city" using the city from the corporate address
- This brings up a LinkedIn profile ~40-50% of the time
- If the LinkedIn profile looks real-estate-related, use Datanyze extension to find email or cell phone
- If no LinkedIn hit: check if the corporate address is residential
  - Verify by Googling the corp address
  - Search Canada411 for a home phone at that address
  - Search GeoWarehouse for who owns that residential property (confirms the contact)
  - Sometimes reveals if owner has passed (obituary + family member on title at home address)
- Last resort: find them on Facebook, send cold message

**Step 6: Make contact**
- Priority order: Call → Email → Letter
- If phone found → call immediately
- If email only → send via Outlook (HubSpot auto-tracks)
- If residential corp address confirmed → send a physical letter
- All calls recorded by Productive.ai → summaries auto-sent to HubSpot

**Step 7: Log and track**
- Currently logs on Google Earth pins (disconnected from CRM)
- HubSpot tracks emails automatically
- Productive.ai tracks calls automatically
- NO unified view of outreach status per owner across all their properties
- Wants: "owner was contacted about Property X" shown on all their other properties
- Wants: drip campaigns (email → 1 week nudge → 2 week nudge → 1 week final)
- Wants: outreach type tracking (call/email/letter) with outcomes

**Step 8: Repeat**
- Find next unworked property → same loop

---

## What Cleo Has Built (Actual App State as of Feb 25, 2026)

### Solid and Working Well
- **Realtrack ingestion** — 60,478 HTML files across 9 property types (retail, farm, multifamily, comm-ind-land, office, hotel-motel, other-bldg, other-land, restaurant-bar). Industrial and res-land scrapes running overnight to close the gap.
- **Parsing pipeline** — 27 parsers producing structured TransactionContext JSON. Sandbox/promote versioning with regression checks. 14 promoted versions. This is battle-tested.
- **Property registry** — 19,741 properties with stable P-IDs, deduplicated by normalized (address, city). Geocoded coordinates, linked RT IDs, latest sale info.
- **Party registry** — 16,839 party groups with stable G-IDs, clustered by name/phone/address signals.
- **Brand scrapers** — Multiple brand scrapers producing store location data. 7,881 properties matched to brands. 4,257 unmatched brand locations (these create 0-transaction properties).
- **GeoWarehouse integration** — 798 GW HTML files parsed. Matched to property registry by address. Enriches with PIN, ARN, zoning, assessed value.
- **Geocoding** — ~36K entries in geocode cache. Three providers: Mapbox, HERE, Geocodio. Daily Geocodio cron (2,300/day free tier) converted from broken cron to launchd plist during this session.
- **Interactive map** — Mapbox with clustered pins, color-coded by pipeline status, filterable by year/price/population/SF/acreage/brand/contact availability. Building footprints and parcel boundary overlays.
- **CRM** — Contacts (C-IDs) and Deals (D-IDs) with stage tracking, linked to properties and party groups. 5 contacts, 2 deals.
- **Outreach** — Filtered list builder, contact event logging (mail/phone/email with outcomes), bulk logging, CSV export. Auto-updates property pipeline status.
- **Pipeline status on properties** — not_started, attempted_contact, interested, listed, active_deal, in_negotiation, under_contract, closed_won, lost_cancelled, do_not_contact.
- **Operators module** — crawl operator websites, extract locations, match to properties/parties.
- **Google Places, Street View, OSM tenants** — integrated into property detail pages.
- **Admin console** — run CLI commands with live SSE output.
- **Search** — full-text search across transactions, parties, properties, contacts.

### What's NOT Working Well

**1. The app feels like a reskinned Realtrack**
- Navigation follows Realtrack's entity model: Property → Transaction → Contact → Contact's other transactions
- Brandon's mental model is: Parcel → Owner → Portfolio → Contact → Outreach
- Once you start digging into a contact's other properties, you're hopping between entity types and losing context — might as well use Realtrack directly

**2. Party grouping algorithm is unreliable**
- Union-find clustering creates "chained" groups — transitive connections through shared phones or contact names link unrelated entities into giant balls of transactions, properties, and contacts
- Makes portfolio view useless when you can't trust the groupings
- Need conservative grouping (high confidence only) with manual merge capability

**3. Brand matching has gaps**
- Example: St. Thomas Foodland not in the system (geocoding issue or missing from scraper)
- Brand coverage isn't complete or fully verified
- Unmatched brands DO create 0-transaction properties on the map, but accuracy/completeness is uncertain

**4. CRM features are scattered across the UI**
- Pipeline status shows differently on map popups vs. detail pages
- CRM features appear on properties but not consistently on transactions or contacts
- Hard to find outreach status from a contact's perspective
- No cross-property owner outreach propagation ("contacted about Property X" doesn't show on their other properties)

**5. Parcel consolidation doesn't work yet**
- Ontario parcel data (MPAC/Teranet) requires an expensive license
- Working with open-source municipal GIS zoning maps to get parcel boundaries for specific addresses
- Brand new effort (~2 days old), already running into address normalization issues
- Municipal GIS endpoints return nothing when addresses aren't properly normalized
- `data/parcels/parcels.json` exists (1.1MB) with some geometry, but not reliable yet

**6. Address normalization is cracking under pressure**
- Addresses come from 4+ sources with different formats: Realtrack (parsed HTML), brand scrapers (each formats differently), GeoWarehouse (MPAC format), municipal GIS (their own canonical form)
- Same property can appear as different strings: "123 Main Street East" vs "123 MAIN ST E" vs "123 Main St. E."
- This causes: failed geocoding, failed parcel lookups, failed brand matching, duplicate properties
- Normalization quality is the root cause of most data issues

---

## The Core Diagnosis

### The Problem Under Every Problem: Address Normalization

```
Address quality (normalization)
  └─→ Geocoding accuracy (bad address = wrong lat/lng or no result)
      └─→ Brand matching (wrong coordinates = no property match)
      └─→ Parcel lookup (bad address to municipal GIS = no parcel returned)
  └─→ Property deduplication (same place, different strings = duplicates)
  └─→ Party grouping (address-based clustering uses normalized addresses)
```

Every feature — brands, parcels, the map, portfolio views — depends on addresses being clean. Without that, the relational data is unreliable.

### The Parcel Is the Right Unit

- A parcel (PIN) is a physical piece of land. It's what transfers in a sale and what's owned.
- A Starbucks pin means nothing without knowing if it's a standalone pad or part of a 100K SF centre
- Parcels give the true picture: multiple buildings, multiple tenants, one owner, one piece of land
- Without parcel consolidation, you can't accurately assess a prospect

### The App Should Serve the Workflow, Not the Data Model

The app is organized around data entities (transactions, properties, parties, contacts, brands) when it should be organized around the prospecting workflow:

**Two hub pages:**
- **Parcel page** — everything about this piece of land, one place: address, map, boundaries, owner, brands/tenants, transactions, pipeline status, outreach history, CRM deal
- **Owner page** — everything about this person/company: portfolio (all parcels), contact info (all sources), outreach history across all properties, confidence indicator on grouping

**Everything else becomes a way to find parcels or owners:**
- Map: find by location, brand, status
- Brand search: find by tenant
- Party list: find by owner name
- Transaction list: search by address/name (lookup tool, not a destination)

---

## Phased Plan

### Phase 0: Stabilize the Foundation (Address Normalization)

**Goal:** Every address in the system — from every source — normalizes to a single canonical form. Geocoding, brand matching, parcel lookups, and property dedup all operate on clean, consistent data.

**Work:**
1. **Audit address quality across all sources**
   - How many RT addresses geocode successfully vs. fail?
   - How many brand addresses match to properties vs. fall into unmatched?
   - How many addresses sent to municipal GIS return parcels vs. fail?
   - What patterns cause failures? (abbreviation inconsistency, missing unit numbers, city name variants, etc.)

2. **Build/improve the normalization pipeline**
   - Review `cleo/properties/normalize.py` and `cleo/extract/address_expander.py`
   - Define a canonical form: uppercase, standard abbreviations (ST/AVE/BLVD/DR), no periods, city name standardization
   - Apply normalization at ingestion time for ALL sources: RT parsed output, brand scraper output, GW parsed output
   - Ensure the same address from any source produces the exact same normalized string

3. **Build a quality monitoring dashboard**
   - Coverage metrics: "X of Y properties geocoded, X of Y brands matched, X of Y addresses normalized successfully"
   - Failure lists: addresses that failed geocoding, failed parcel lookup, failed brand matching — with reasons
   - Trend tracking: is quality improving over time?

4. **Re-run downstream processes on clean data**
   - Re-geocode failed addresses
   - Re-run brand matching
   - Re-run property deduplication
   - Re-run parcel lookups

**Deliverable:** A quality dashboard showing high coverage rates and a clear list of remaining failures to fix.

### Phase 1: Parcel Consolidation

**Goal:** Every property that can be associated with a parcel has a PIN and parcel boundary. Brands, transactions, and properties are grouped by parcel.

**Work:**
1. Use normalized addresses to query municipal GIS endpoints for parcel boundaries
2. Build PIN-based property deduplication (PIN as primary key where available, address as fallback)
3. Group multiple addresses/buildings/brands under a single parcel
4. Surface parcel context on the map (highlight full parcel when clicking any brand/property within it)

**Deliverable:** Parcel-aware property registry. Map shows parcels, not just pins.

### Phase 2: Fix Party Grouping

**Goal:** Party groups are high-confidence and trustworthy. Portfolio views show real portfolios.

**Work:**
1. Make the algorithm conservative — only auto-group with high confidence signals
2. Add confidence scores to groupings
3. Build easy manual merge/split UI
4. Surface "needs review" indicators on low-confidence groups
5. Now that industrial + res-land scraping is running, rebuild party registry with full cross-asset-class data

**Deliverable:** Owner pages you can trust. Portfolio views that reflect reality.

### Phase 3: App Reorganization (Two Hub Pages)

**Goal:** The app serves Brandon's prospecting workflow, not the data model.

**Work:**
1. Build the Parcel detail page (unified command center)
2. Build the Owner detail page (portfolio + outreach history across all properties)
3. Consolidate CRM/outreach/pipeline into these two hubs
4. Simplify navigation — map, brands, party list become "finders" that lead to Parcel or Owner pages
5. Cross-property outreach propagation: contacting an owner about one property shows on all their properties

**Deliverable:** The core prospecting loop works entirely within Cleo.

### Phase 4: External Integrations

**Goal:** Cleo connects to the tools Brandon already uses.

**Work:**
1. HubSpot sync — contacts/deals bidirectional
2. Surface email open/reply status from HubSpot
3. Surface call summaries from Productive.ai via HubSpot
4. Drip campaign automation (email sequences with timed follow-ups)

**Deliverable:** Cleo is the research/discovery hub, HubSpot is the communication tracker, and they're in sync.

---

## Operational Items Fixed During This Session

1. **Geocoding cron → launchd** — The daily Geocodio cron (2,300 calls/day) was failing with "Operation not permitted" due to macOS security. Converted to launchd plist (`com.cleo.geocode-daily`). Loaded and will fire at 6am daily.

2. **Overnight scrape running** — `scripts/run_overnight_scan.sh` kicked off at 9:40 PM, running comm-ind-land (10,647 gap), then industrial (new), then res-land (new) sequentially. Log at `data/overnight_scan.log`.

3. **Old ingest plist** — `com.cleo.ingest-realtrack` in LaunchAgents points to old `/Users/brandonolsen23/Development/cleo-mini` path. Not loaded, never ran. NOT touched during this session (the V3 scrape uses `scripts/full_scan.py` run manually).

---

## Key Decisions Made

1. **Pause new features. Fix the data foundation first.** The rest doesn't matter if the data isn't good.
2. **Address normalization is the #1 priority.** It's upstream of geocoding, brand matching, parcel lookups, and property dedup.
3. **Parcel-centric data model is the goal.** The parcel (PIN) should be the organizing unit, not the transaction or the address.
4. **Conservative party grouping over comprehensive.** Better to show 3 high-confidence properties than 45 you can't trust.
5. **The app should be a prospecting workspace, not a data viewer.** Two hub pages (Parcel + Owner) serving the prospecting loop.

---

## Source Inventory (Where Data Lives)

All data consolidated under `/Users/brandonolsen23/cleo-mini-v3/data/` (symlink to iCloud project). Key locations:

| Path | What | Count |
|---|---|---|
| `data/html/{type}/*.html` | Raw Realtrack HTML | 60,478 files across 9 types |
| `data/parsed/active/*.json` | Parsed transaction JSON | ~18K records (v014) |
| `data/extracted/active/*.json` | Extracted addresses | v007 |
| `data/gw_html/*.html` | GeoWarehouse HTML | 798 files |
| `data/gw_parsed/v001/*.json` | Parsed GW records | ~798 records |
| `data/properties.json` | Property registry | 19,741 properties |
| `data/parties.json` | Party registry | 16,839 groups |
| `data/geocode_cache.json` | Address → lat/lng | ~36K entries |
| `data/brand_matches.json` | Brand → property links | 7,881 matched |
| `data/brand_unmatched.json` | Unmatched brand locations | 4,257 |
| `data/parcels/parcels.json` | Parcel boundaries | 1.1MB (WIP) |
| `data/crm/` | CRM contacts + deals | 5 contacts, 2 deals |
| `data/outreach/` | Outreach lists + logs | Active |
| `data/operators/` | Operator crawl data | Configured |
| `data/seen_rt_ids.json` | Master RT ID tracker | 60,408 IDs |
| `brands/data/*.json` | Brand scraper output | Multiple brand files |
| `data/coordinates.json` | Brand store coordinates | 33MB |

GitHub: https://github.com/brandonolsen23/cleo-mini-v3.git
